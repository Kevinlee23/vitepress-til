import { defineConfig } from "vitepress";
import {
  groupIconMdPlugin,
  groupIconVitePlugin,
} from "vitepress-plugin-group-icons";
import { createSidebar } from "./utils/createSideBar";
import { buildBlogRSS } from "./utils/rss";

const wechatSvg =
  '<svg t="1720078779031" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="35044" width="200" height="200"><path d="M512 0c282.76736 0 512 229.23264 512 512s-229.23264 512-512 512S0 794.76736 0 512 229.23264 0 512 0z" fill="#3DB39E" p-id="35045"></path><path d="M491.52 839.68h40.96v184.32h-40.96V839.68z" fill="#2B7D6E" p-id="35046"></path><path d="M491.52 839.68h40.96v56.32h-40.96V839.68z" fill="#256A5E" p-id="35047"></path><path d="M715.22304 514.52928c-11.264-4.096-22.39488-7.34208-33.28-9.94304a302.1312 302.1312 0 0 0 32.28672-12.8c72.00768-33.56672 117.68832-88.04352 102.02112-121.64096-15.6672-33.60768-86.75328-33.62816-158.76096-0.06144a299.2128 299.2128 0 0 0-30.55616 16.50688 306.8928 306.8928 0 0 0 13.78304-31.87712c27.17696-74.67008 20.96128-145.47968-13.8752-158.1568s-85.11488 37.56032-112.30208 112.22016c-4.096 11.264-7.34208 22.39488-9.94304 33.29024a303.44192 303.44192 0 0 0-12.8-32.28672c-33.56672-72.01792-88.04352-117.69856-121.64096-102.03136-33.60768 15.6672-33.62816 86.75328-0.06144 158.7712a300.29824 300.29824 0 0 0 16.50688 30.55616 303.98464 303.98464 0 0 0-31.88736-13.79328c-74.65984-27.16672-145.46944-20.96128-158.14656 13.8752-12.68736 34.83648 37.56032 85.11488 112.22016 112.30208 11.264 4.096 22.39488 7.35232 33.29024 9.94304a303.58528 303.58528 0 0 0-32.29696 12.8c-72.00768 33.57696-117.68832 88.04352-102.02112 121.6512 15.6672 33.59744 86.75328 33.62816 158.7712 0.0512a300.0832 300.0832 0 0 0 30.54592-16.49664 305.94048 305.94048 0 0 0-13.78304 31.87712c-27.16672 74.65984-20.96128 145.46944 13.8752 158.14656 34.83648 12.68736 85.11488-37.56032 112.30208-112.22016 4.096-11.264 7.34208-22.39488 9.94304-33.28a302.1312 302.1312 0 0 0 12.8 32.28672c33.56672 72.00768 88.04352 117.68832 121.64096 102.02112 33.60768-15.6672 33.62816-86.75328 0.06144-158.76096a299.38688 299.38688 0 0 0-16.50688-30.5664c10.01472 5.0176 20.6336 9.68704 31.88736 13.79328 74.65984 27.17696 145.46944 20.97152 158.14656-13.8752 12.68736-34.83648-37.56032-85.12512-112.22016-112.30208z m-182.95808 40.93952c-7.59808 3.54304-13.39392 10.0352-17.55136 18.61632-4.90496-8.18176-11.23328-14.15168-19.10784-17.01888s-16.56832-2.36544-25.58976 0.74752c2.33472-9.24672 2.06848-17.95072-1.47456-25.5488s-10.0352-13.39392-18.62656-17.5616c8.192-4.90496 14.16192-11.23328 17.02912-19.10784s2.36544-16.56832-0.75776-25.58976c9.25696 2.33472 17.96096 2.06848 25.55904-1.47456s13.39392-10.0352 17.55136-18.61632c4.90496 8.18176 11.23328 14.15168 19.10784 17.01888s16.57856 2.36544 25.58976-0.75776c-2.33472 9.25696-2.06848 17.96096 1.47456 25.55904s10.0352 13.39392 18.62656 17.5616c-8.192 4.89472-14.16192 11.23328-17.02912 19.10784s-2.36544 16.56832 0.75776 25.58976c-9.2672-2.32448-17.96096-2.07872-25.55904 1.47456z m182.95808-40.93952c-11.264-4.096-22.39488-7.34208-33.28-9.94304a302.1312 302.1312 0 0 0 32.28672-12.8c72.00768-33.56672 117.68832-88.04352 102.02112-121.64096-15.6672-33.60768-86.75328-33.62816-158.76096-0.06144a299.2128 299.2128 0 0 0-30.55616 16.50688 306.8928 306.8928 0 0 0 13.78304-31.87712c27.17696-74.67008 20.96128-145.47968-13.8752-158.1568s-85.11488 37.56032-112.30208 112.22016c-4.096 11.264-7.34208 22.39488-9.94304 33.29024a303.44192 303.44192 0 0 0-12.8-32.28672c-33.56672-72.01792-88.04352-117.69856-121.64096-102.03136-33.60768 15.6672-33.62816 86.75328-0.06144 158.7712a300.29824 300.29824 0 0 0 16.50688 30.55616 303.98464 303.98464 0 0 0-31.88736-13.79328c-74.65984-27.16672-145.46944-20.96128-158.14656 13.8752-12.68736 34.83648 37.56032 85.11488 112.22016 112.30208 11.264 4.096 22.39488 7.35232 33.29024 9.94304a303.58528 303.58528 0 0 0-32.29696 12.8c-72.00768 33.57696-117.68832 88.04352-102.02112 121.6512 15.6672 33.59744 86.75328 33.62816 158.7712 0.0512a300.0832 300.0832 0 0 0 30.54592-16.49664 305.94048 305.94048 0 0 0-13.78304 31.87712c-27.16672 74.65984-20.96128 145.46944 13.8752 158.14656 34.83648 12.68736 85.11488-37.56032 112.30208-112.22016 4.096-11.264 7.34208-22.39488 9.94304-33.28a302.1312 302.1312 0 0 0 12.8 32.28672c33.56672 72.00768 88.04352 117.68832 121.64096 102.02112 33.60768-15.6672 33.62816-86.75328 0.06144-158.76096a299.38688 299.38688 0 0 0-16.50688-30.5664c10.01472 5.0176 20.6336 9.68704 31.88736 13.79328 74.65984 27.17696 145.46944 20.97152 158.14656-13.8752 12.68736-34.83648-37.56032-85.12512-112.22016-112.30208z" fill="#D7B354" p-id="35048"></path><path d="M870.4 512c0-39.58784-68.77184-71.68-153.6-71.68-12.78976 0-25.1392 0.80896-37.0176 2.18112a321.30048 321.30048 0 0 0 27.71968-24.6272c59.98592-59.97568 85.92384-131.29728 57.92768-159.30368-27.99616-27.98592-99.30752-2.048-159.30368 57.92768a319.6928 319.6928 0 0 0-24.6272 27.72992c1.37216-11.8784 2.18112-24.23808 2.18112-37.02784 0-84.82816-32.09216-153.6-71.68-153.6s-71.68 68.77184-71.68 153.6c0 12.78976 0.80896 25.1392 2.18112 37.0176a321.30048 321.30048 0 0 0-24.6272-27.71968c-59.97568-59.97568-131.29728-85.92384-159.30368-57.92768-27.98592 27.99616-2.048 99.31776 57.92768 159.30368a319.5904 319.5904 0 0 0 27.71968 24.6272A322.19136 322.19136 0 0 0 307.2 440.32c-84.82816 0-153.6 32.09216-153.6 71.68s68.77184 71.68 153.6 71.68c12.78976 0 25.1392-0.80896 37.0176-2.18112a321.30048 321.30048 0 0 0-27.71968 24.6272c-59.97568 59.98592-85.92384 131.30752-57.92768 159.30368 27.99616 27.98592 99.31776 2.05824 159.30368-57.92768a319.5904 319.5904 0 0 0 24.6272-27.71968A322.19136 322.19136 0 0 0 440.32 716.8c0 84.82816 32.09216 153.6 71.68 153.6s71.68-68.77184 71.68-153.6c0-12.78976-0.80896-25.1392-2.18112-37.0176a321.30048 321.30048 0 0 0 24.6272 27.71968c59.98592 59.98592 131.29728 85.92384 159.30368 57.92768 27.98592-27.98592 2.05824-99.30752-57.92768-159.30368a319.5904 319.5904 0 0 0-27.71968-24.6272c11.8784 1.37216 24.22784 2.18112 37.0176 2.18112 84.82816 0 153.6-32.09216 153.6-71.68z m-383.78496 61.29664c-1.05472-10.12736-4.48512-18.75968-10.81344-25.088s-14.97088-9.76896-25.09824-10.81344c6.42048-7.90528 10.09664-16.4352 10.09664-25.3952 0-8.94976-3.67616-17.48992-10.09664-25.38496 10.12736-1.04448 18.76992-4.48512 25.09824-10.81344s9.76896-14.97088 10.81344-25.09824c7.89504 6.42048 16.4352 10.09664 25.38496 10.09664s17.48992-3.67616 25.38496-10.09664c1.04448 10.12736 4.48512 18.76992 10.81344 25.09824s14.97088 9.76896 25.09824 10.81344C566.87616 494.51008 563.2 503.05024 563.2 512c0 8.96 3.67616 17.48992 10.09664 25.3952-10.12736 1.04448-18.76992 4.48512-25.09824 10.81344s-9.75872 14.96064-10.81344 25.088C529.48992 566.87616 520.94976 563.2 512 563.2s-17.48992 3.67616-25.38496 10.09664zM870.4 512c0-39.58784-68.77184-71.68-153.6-71.68-12.78976 0-25.1392 0.80896-37.0176 2.18112a321.30048 321.30048 0 0 0 27.71968-24.6272c59.98592-59.97568 85.92384-131.29728 57.92768-159.30368-27.99616-27.98592-99.30752-2.048-159.30368 57.92768a319.6928 319.6928 0 0 0-24.6272 27.72992c1.37216-11.8784 2.18112-24.23808 2.18112-37.02784 0-84.82816-32.09216-153.6-71.68-153.6s-71.68 68.77184-71.68 153.6c0 12.78976 0.80896 25.1392 2.18112 37.0176a321.30048 321.30048 0 0 0-24.6272-27.71968c-59.97568-59.97568-131.29728-85.92384-159.30368-57.92768-27.98592 27.99616-2.048 99.31776 57.92768 159.30368a319.5904 319.5904 0 0 0 27.71968 24.6272A322.19136 322.19136 0 0 0 307.2 440.32c-84.82816 0-153.6 32.09216-153.6 71.68s68.77184 71.68 153.6 71.68c12.78976 0 25.1392-0.80896 37.0176-2.18112a321.30048 321.30048 0 0 0-27.71968 24.6272c-59.97568 59.98592-85.92384 131.30752-57.92768 159.30368 27.99616 27.98592 99.31776 2.05824 159.30368-57.92768a319.5904 319.5904 0 0 0 24.6272-27.71968A322.19136 322.19136 0 0 0 440.32 716.8c0 84.82816 32.09216 153.6 71.68 153.6s71.68-68.77184 71.68-153.6c0-12.78976-0.80896-25.1392-2.18112-37.0176a321.30048 321.30048 0 0 0 24.6272 27.71968c59.98592 59.98592 131.29728 85.92384 159.30368 57.92768 27.98592-27.98592 2.05824-99.30752-57.92768-159.30368a319.5904 319.5904 0 0 0-27.71968-24.6272c11.8784 1.37216 24.22784 2.18112 37.0176 2.18112 84.82816 0 153.6-32.09216 153.6-71.68z" fill="#EFC75E" p-id="35049"></path><path d="M512 399.36c62.208 0 112.64 50.432 112.64 112.64s-50.432 112.64-112.64 112.64-112.64-50.432-112.64-112.64 50.432-112.64 112.64-112.64z" fill="#E3BD59" p-id="35050"></path><path d="M512 430.08a81.92 81.92 0 1 1 0 163.84 81.92 81.92 0 0 1 0-163.84z" fill="#C88B4A" p-id="35051"></path></svg>';

// https://vitepress.dev/reference/site-config
export default defineConfig({
  base: "/vitepress-til/",
  title: "麓下雪",
  description: "A VitePress Site",
  head: [["link", { rel: "icon", href: "/vitepress-til/assets/favion.ico" }]],
  themeConfig: {
    logo: "/assets/cola.svg",

    // https://vitepress.dev/reference/default-theme-config
    nav: [
      {
        text: "前端基础",
        items: [
          { text: "Javascript", link: "/javascript/event-loop" },
          { text: "JS Code", link: "/javascript/wapper-for-websocket-vue3" },
          { text: "Typescript", link: "/typescript/basic-object-and-function" },
          { text: "类型编程", link: "/typescript/internal-tool-type" },
          { text: "CSS", link: "/css/gradient-color" },
          { text: "HTTP", link: "/http/HTTP-request-and-response-header" },
        ],
      },
      {
        text: "框架",
        items: [
          { text: "Vue3", link: "/vue3/get-component-instance-in-setup" },
          { text: "React", link: "/react/create" },
          { text: "NestJs", link: "/nest/nest-basic" },
          { text: "Nuxt", link: "/nuxt/nuxt-config" },
        ],
      },
      {
        text: "工具",
        items: [
          { text: "Git", link: "/git/01-git-pull-repository" },
          { text: "vim", link: "/vim/direct" },
          { text: "SQL", link: "/sql/my-sql-single-table-operation" },
          { text: "OSS", link: "/oss/get-sts" },
          { text: "mongodb", link: "/mongodb/mongo-basic" },
          { text: "Redis", link: "/redis/redis-basic" },
          { text: "Docker", link: "/docker/docker-basic" },
          { text: "Echarts", link: "/echarts/options" },
        ],
      },
      {
        text: "第三方库",
        items: [
          { text: "归档", link: "/3-party-library/marked-library" },
          { text: "mockJs", link: "/3-party-library/how-to-use-mockjs" },
        ],
      },
      { text: "项目管理", items: [{ text: "PMP", link: "/pmp/answer-trick" }] },
      {
        text: "杂项",
        items: [
          { text: "配置", link: "/config/off-hibernate" },
          { text: "FIX", link: "/fix/nvm-president-problem-for-mac" },
          { text: "运维", link: "/ops/create-monorepo" },
        ],
      },
      { text: "更新记录", link: "/update" },
      {
        text: "🔥RSS",
        link: "https://kevinlee23.github.io/vitepress-til/feed.xml",
      },
      {
        text: "❄关于生活",
        link: "https://snowinlu.top",
      },
    ],

    outline: {
      label: "Outline 📂",
    },

    // @ts-ignore
    sidebar: createSidebar(),

    // https://vitepress.dev/zh/reference/default-theme-config#sociallinks
    socialLinks: [
      { icon: "github", link: "https://github.com/Kevinlee23/vitepress-til" },
    ],

    // https://github.com/lucaong/minisearch/
    search: { provider: "local" },
  },
  cleanUrls: true,
  lastUpdated: true,
  markdown: {
    config(md) {
      md.use(groupIconMdPlugin);
    },
  },
  buildEnd: buildBlogRSS,
  vite: {
    server: {
      host: "0.0.0.0",
      port: 8080,
    },
    plugins: [groupIconVitePlugin()],
  },
});
